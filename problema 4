using System;
using System.Globalization;

class Program
{
    static void Main()
    {
        CultureInfo.DefaultThreadCurrentCulture = new CultureInfo("pt-BR");

        Console.Write("Informe o valor inicial: ");
        decimal valorPresente = decimal.Parse(Console.ReadLine());

        Console.Write("Informe a taxa de juros (% ao mês): ");
        decimal taxa = decimal.Parse(Console.ReadLine());

        Console.Write("Informe o tempo total (em meses): ");
        int periodoTotal = int.Parse(Console.ReadLine());

        Console.Write("Informe o mês do resgate: ");
        int mesResgate = int.Parse(Console.ReadLine());

        decimal i = taxa / 100;
        int periodoAtual = 0;

        Console.WriteLine();
        Console.WriteLine("Mês\tVP\t\tTaxa\tN\tVF\t\tRendimento\tResgate\t\tSaldo");

        for (int mes = 1; mes <= periodoTotal; mes++)
        {
            periodoAtual++;

            decimal valorFinal = valorPresente * (1 + i * periodoAtual);
            decimal rendimento = valorFinal - valorPresente;
            decimal resgate = 0;
            decimal saldoFinal = valorFinal;

            if (mes == mesResgate)
            {
                resgate = rendimento;
                saldoFinal = valorPresente;
                valorPresente = saldoFinal;
                periodoAtual = 0;
            }
            else
            {
                valorPresente = saldoFinal;
            }

            Console.WriteLine(
                $"{mes}\t{valorPresente:C2}\t{taxa}%\t{periodoAtual}\t{valorFinal:C2}\t{rendimento:C2}\t{resgate:C2}\t{saldoFinal:C2}"
            );
        }

        Console.ReadLine();
    }
}
